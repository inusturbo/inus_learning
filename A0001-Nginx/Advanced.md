# 第一部分 P53扩容
## 通过扩容提升整体吞吐量
扩容方式
1. 单机垂直扩容：硬件资源增加
2. 水平扩展：集群化
3. 细粒度拆分：分布式
   1. 数据分区
   2. 上游服务SOA化（原生支持水平/垂直扩容）
   3. 入口细分
4. 数据异构化
   1. 多级缓存
      1. 客户端缓存
      2. CDN缓存
      3. 异地多活
      4. Nginx缓存
5. 服务异步化
   1. 拆分请求
   2. 消息中间件

扩容原则
1. 无状态原则
2. 弹性原则

水平扩展：集群化

会话管理：如何利用Nginx实现会话管理

ip_hash：根据客户端IP地址进行hash，使得每个客户端固定访问同一台后端服务器
缺点：IP集中，单点故障用户会话丢失
