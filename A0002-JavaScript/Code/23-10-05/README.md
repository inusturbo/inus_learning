# 23-10-05 函数

函数就是基于给定的参数输入，返回一个值或者执行一个任务的代码块。
属于对象的函数叫做方法。
在前面的第五章学习到了一个JavaScript内置的函数（方法）。与之相对的是自定义函数（方法）。

为什么要定义函数？在大规模的程序中，经常有些代码会被重复使用，如果每次都要重新编写这些代码，那么就会增加代码量，而且也不利于维护。所以我们可以把这些代码封装成函数，这样就可以在需要的时候调用函数，而不用重新编写代码。

## 定义函数

### 定义函数的三种方式

#### 函数声明

```javascript
function 函数名(参数1, 参数2, ...) {
    // 函数体
}
```

调用函数：

```javascript
函数名(参数1, 参数2, ...);
```

#### 使用Function构造函数

```javascript
let 函数名 = new Function('参数1', '参数2', '...', '函数体');
```

例如：

```javascript
let sum = new Function('a', 'b', 'return a + b');
let sum2 = new Function('a, b', 'return a + b');
console.log(sum(1, 2)); // 3
console.log(sum2(1, 2)); // 3
```

#### 使用function表达式

```javascript
let 函数名 = function (参数1, 参数2, ...) {
    // 函数体
}
```

例如：

```javascript
let sum = function (a, b) {
    return a + b;
}
console.log(sum(1, 2)); // 3
```

这个特性可以用来创建匿名函数，也就是没有函数名的函数。匿名函数在JavaScript中非常常见。

#### 使用箭头函数

```javascript
let 函数名 = (参数1, 参数2, ...) => {
    // 函数体
}
```

例如：

```javascript
let sum = (a, b) => {
    return a + b;
}

console.log(sum(1, 2)); // 3
```

JavaScript的箭头函数是ES6（ECMAScript 2015）中引入的一种新的函数语法。箭头函数提供了一种更简洁的方式来写函数，并且它们有一些特殊的行为，特别是关于`this`关键字的行为。

以下是箭头函数的基础语法：

1. **没有参数**的函数：

```javascript
() => {
    // 函数体
}
```

2. **一个参数**的函数（可以省略括号）：

```javascript
param => {
    // 函数体
}
```

3. **多个参数**的函数：

```javascript
(param1, param2) => {
    // 函数体
}
```

4. **简短的函数体**可以直接返回结果，无需写`return`：

```javascript
param => param * 2;
```

这个例子是一个简单的函数，接收一个参数并返回它的两倍。

箭头函数的几个关键特点：

1. **`this`的绑定**：箭头函数不绑定自己的`this`，它们继承自包围它们的函数的`this`。这使得在某些情境下，如事件处理器或回调函数中，使用箭头函数更为方便。

2. **不绑定`arguments`**：箭头函数没有自己的`arguments`对象。如果你在箭头函数内部引用`arguments`，它实际上是从包围它的常规函数中取得的。

3. **不能作为构造函数**：你不能使用`new`关键字来调用箭头函数。

4. **没有`prototype`属性**：箭头函数不具有`prototype`属性。

5. **不绑定`super`**：箭头函数也不绑定`super`关键字。

因为箭头函数的这些特性，它们在某些特定场合非常有用，但并不适合所有场合。
